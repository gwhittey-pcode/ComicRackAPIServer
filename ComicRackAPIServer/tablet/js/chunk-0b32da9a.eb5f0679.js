(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b32da9a"],{2575:function(e,t,a){"use strict";var s=a("e2a1"),i=a.n(s);i.a},e2a1:function(e,t,a){},fe2e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("div",{directives:[{name:"touch",rawName:"v-touch",value:{left:function(){return e.cyclePages(1)},right:function(){return e.cyclePages(-1)}},expression:"{\r\n        left: () => cyclePages(1),\r\n        right: () => cyclePages(-1),\r\n      }"}],staticClass:"readerContainer"},[a("div",{staticClass:"readerPages"},[a("v-img",{class:"page1",attrs:{position:e.page1position,contain:"","max-height":"100%",src:this.page1url}}),a("v-img",{class:"page2 hidden",attrs:{position:e.page2position,contain:"","max-height":"100%",src:this.page2url}})],1),a("div",{class:"comicMenu hidden"},[a("v-card",[a("v-img",{attrs:{src:this.coverPage,"aspect-ratio":"2.75",position:"top"}}),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[e._v(e._s(this.issue.Caption))]),a("div",[e._v(e._s(this.issue.Summary))])])]),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:e.exitReader}},[e._v("Exit")]),a("v-btn",{attrs:{flat:"",color:"orange"}},[e._v("Explore")]),a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:e.closeMenu}},[e._v("Close")]),a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(t){t.stopPropagation(),e.dual=!e.dual}}},[e._v("DualReader: "+e._s(this.dual))]),a("v-btn",{attrs:{flat:"",color:"orange"},on:{click:function(t){t.stopPropagation(),e.manga=!e.manga}}},[e._v("Manga: "+e._s(this.manga))])],1)],1)],1),a("div",{staticClass:"readerControls"},[a("div",{staticClass:"directBtns prevReaderPage",on:{click:function(t){e.cyclePages(-1)}}},[a("span",[e._v("◄")])]),a("div",{staticClass:"directBtns showReaderMenu",on:{click:e.openMenu}}),a("div",{staticClass:"directBtns nextReaderPage",on:{click:function(t){e.cyclePages(1)}}},[a("span",[e._v("►")])])])])])],1)},i=[],n=a("1157"),r=a.n(n),o=a("bc3a"),c=a.n(o),g=r.a,l={created:function(){},methods:{openMenu:function(){g(".comicMenu").removeClass("hidden")},closeMenu:function(){g(".comicMenu").addClass("hidden")},exitReader:function(){this.$router.go(-1)},nextPage:function(){this.$store.state.api.manga},prevPage:function(){this.$store.state.api.manga},cyclePages:function(e){this.manga&&(e*=-1);var t=this.currentPage,a=this.lastPage,s="center right";if(this.manga?(s="center left",this.page2position="center right"):this.page2position="center left",this.dual)switch(e){case 1:var i=t+1,n=i+1,r=this.pages[i].size,o=this.pages[n].size;i<=a&&(this.page1url=this.pages[i].src,this.currentPage=i,console.log("page1:",i)),n<=a&&(g(".page1").removeClass("hidden"),r<1&&o<1?(g(".page2").removeClass("hidden"),this.page1position=s,this.page2url=this.pages[n].src,this.currentPage=n,console.log("page2:",n),this.lastSingle=!1):(this.page1position="center center",g(".page2").addClass("hidden"),this.lastSingle=!0));break;case-1:n=Math.max(0,t-1),i=Math.max(0,n-1);this.lastSingle||(n=Math.max(0,n-1),i=Math.max(0,n-1));r=this.pages[i].size,o=this.pages[n].size;i<=a&&(this.page1url=this.pages[i].src,this.currentPage=i,console.log("page1:",i)),i<1&&(this.page1url=this.pages[i].src,this.currentPage=i,g(".page2").addClass("hidden"),this.page1position="center center"),n<=a&&n>0&&(g(".page1").removeClass("hidden"),r<1&&o<1?(g(".page2").removeClass("hidden"),this.page1position=s,this.page2url=this.pages[n].src,this.currentPage=n,console.log("page2:",n),this.lastSingle=!1):(this.page1position="center center",this.page1url=this.pages[n].src,this.currentPage=n,g(".page2").addClass("hidden"),this.lastSingle=!0,this.page1));break}else switch(e){case 1:i=this.currentPage+1;i<=this.lastPage&&(console.log("single page: Forward"),this.page1url=this.pages[i].src,this.currentPage=i);break;case-1:i=Math.max(0,this.currentPage-1);i>=0&&(console.log("single page: Backward"),this.page1url=this.pages[i].src,this.currentPage=i);break}},getRatios:function(){var e=this,t=this.$store.state.api.selectedIssue[0].PageCount,a=this.$store.state.api.selectedIssue[0].Id,s=this.baseURL,i=this.$store.state.auth.apiKey,n=0;this.page1url=s+"/API/Comics/"+a+"/Pages/0",this.coverPage=this.page1url;var r=function(){var t=s+"/API/Comics/"+a+"/Pages/"+n+"/size",r=s+"/API/Comics/"+a+"/Pages/"+n,o=n;c()({url:t,method:"GET",params:{apiKey:i}}).then(function(t){var a=t.data;e.pages[o]={src:r,size:Math.floor(a.width/a.height)}}).catch(function(e){})};for(n=0;n<t;n++)r()}},computed:{baseURL:function(){var e=this.$store.state.api.baseURL;return e}},watch:{dual:function(){this.dual?(g(".page2").removeClass("hidden"),this.page1position="center right"):(g(".page2").addClass("hidden"),this.page1position="center center")},manga:function(){this.manga?(g(".readerPages").addClass("manga"),this.page1position="center left",this.page2position="center right"):(g(".readerPages").removeClass("manga"),this.page1position="center right",this.page2position="center left")},currentPage:function(){console.log(this.currentPage)}},mounted:function(){this.getRatios()},data:function(){return{dialog:!0,comicMenu:!1,currentPage:0,lastSingle:!1,issue:this.$store.state.api.selectedIssue[0],lastPage:this.$store.state.api.selectedIssue[0].PageCount-1,page1url:"./logo.jpg",coverPage:"",page2url:"./logo.jpg",pages:{},show1:"shown",show2:"hidden",page1position:"center center",page2position:"center left",dual:!0,manga:!1}}},h=l,p=(a("2575"),a("2877")),u=Object(p["a"])(h,s,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-0b32da9a.eb5f0679.js.map